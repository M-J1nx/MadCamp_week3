{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mj183\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\MadCampWeek3\\\\MadCamp_week3_front\\\\src\\\\components\\\\Mainhome.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport './Memo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Mainhome() {\n  _s();\n  const id = sessionStorage.getItem(\"id\");\n  const [hasRoll, sethasRoll] = useState(false);\n  const [pid, setpid] = useState(0);\n  useEffect(() => {\n    axios.post(\"http://43.202.79.6:3001/hasroll\", {\n      userId: id\n    }).then(function (response) {\n      const {\n        message\n      } = response.data;\n      console.log(message);\n      if (message) {\n        const {\n          paperId\n        } = response.data;\n        console.log(paperId[0]);\n        setpid(paperId[0]);\n      }\n      sethasRoll(message);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n  const handleRoll = () => {\n    axios.post(\"http://43.202.79.6:3001/Roll\", {\n      userId: id\n    }).then(function (response) {\n      const {\n        paperId\n      } = response.data;\n      console.log(paperId);\n      sethasRoll(true);\n      window.location.href = `/roll/${paperId}`;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  return (\n    /*#__PURE__*/\n    //hasroll이 지금 세션에 저장되어 있는데 이게 true면 롤페 만들기가 아니라 롤페 보기로 버튼이 바꾸게 나중에 설정해야함..\n    //이거 롤페 만들어지는 순간 이거가 게시판에서 넘어올 수 있게 게시글 형식으로 우선 해보자..\n    _jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginitem\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginRight: \"12px\"\n          },\n          className: \"btn\",\n          onClick: () => {\n            window.location.href = \"/all\";\n          },\n          children: \"\\uC804\\uCCB4 \\uAC8C\\uC2DC\\uD310\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: hasRoll ? () => {\n            window.location.href = `/roll/${pid}`;\n          } : handleRoll,\n          children: hasRoll ? \"롤링페이퍼 보기\" : \"나의 롤링페이퍼 만들기\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(Mainhome, \"EqvbTRT3JtAuEBxfEmwj9ft7GSA=\");\n_c = Mainhome;\nvar _c;\n$RefreshReg$(_c, \"Mainhome\");","map":{"version":3,"names":["axios","useState","useEffect","jsxDEV","_jsxDEV","Mainhome","_s","id","sessionStorage","getItem","hasRoll","sethasRoll","pid","setpid","post","userId","then","response","message","data","console","log","paperId","catch","error","handleRoll","window","location","href","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginRight","onClick","_c","$RefreshReg$"],"sources":["C:/Users/mj183/OneDrive/바탕 화면/MadCampWeek3/MadCamp_week3_front/src/components/Mainhome.js"],"sourcesContent":["import axios from 'axios';\r\nimport {useState, useEffect} from \"react\"\r\nimport './Memo.css';\r\n\r\nexport default function Mainhome() {\r\n    const id = sessionStorage.getItem(\"id\")\r\n    const [hasRoll, sethasRoll] = useState(false)\r\n    const [pid, setpid] = useState(0)\r\n\r\n    useEffect(() => {\r\n        axios.post(\"http://43.202.79.6:3001/hasroll\", {\r\n                userId: id\r\n            })\r\n            .then(function (response) {\r\n                const {message} = response.data;\r\n                console.log(message)\r\n                if (message) {\r\n                    \r\n                    const {paperId}=response.data\r\n                    console.log(paperId[0])\r\n                    setpid(paperId[0])\r\n                }\r\n                sethasRoll(message)\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            })  \r\n        },[]);\r\n\r\n    const handleRoll = () => {\r\n        axios.post(\"http://43.202.79.6:3001/Roll\", {\r\n                userId: id\r\n            })\r\n            .then(function (response) {\r\n                const {paperId} = response.data;\r\n                console.log(paperId)\r\n                sethasRoll(true)\r\n                window.location.href = `/roll/${paperId}`\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n    return (\r\n\r\n        //hasroll이 지금 세션에 저장되어 있는데 이게 true면 롤페 만들기가 아니라 롤페 보기로 버튼이 바꾸게 나중에 설정해야함..\r\n        //이거 롤페 만들어지는 순간 이거가 게시판에서 넘어올 수 있게 게시글 형식으로 우선 해보자..\r\n        <div className='login'>\r\n            <div className=\"home1\" />\r\n            <div className='loginitem'>\r\n                <button style={{marginRight: \"12px\"}} className='btn' onClick={()=>{window.location.href = \"/all\"}}>전체 게시판</button>\r\n                {/*<button style={{marginRight: \"12px\"}} className='btn' onClick={()=>{window.location.href = \"/like\"}}>좋아요 게시판</button>*/}\r\n                <button className='btn' onClick={hasRoll ? () => {window.location.href=`/roll/${pid}`} : handleRoll}>\r\n                    {hasRoll ? \"롤링페이퍼 보기\" : \"나의 롤링페이퍼 만들기\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}