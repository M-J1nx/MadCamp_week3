{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mj183\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\MadCampWeek3\\\\MadCamp_week3_front\\\\src\\\\components\\\\Result.js\",\n  _s = $RefreshSig$();\nimport axios, { all } from 'axios';\nimport './Memo.css';\nimport { useParams, useLocation } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\n\n//https://pixabay.com/ko/images/search/검색어/\n//위에로 연결 쉬울 듯...\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Result() {\n  _s();\n  const location = useLocation();\n  const key = location.state.rst;\n  const nick = location.state.nick;\n  const imgURL = \"https://i.pinimg.com/736x/35/a4/64/35a4644b880f02610a53d9baf71944cb.jpg\";\n  const [imgurl, setimgurl] = useState(imgURL);\n  const {\n    idx\n  } = useParams();\n  const [part, setPart] = useState('');\n  const handlePart = async () => {\n    const response = await axios.post(`http://43.202.79.6:3001/part`, {\n      result: key\n    });\n    const {\n      return_object\n    } = JSON.parse(response.data);\n    const {\n      sentence\n    } = return_object;\n    const {\n      morp_eval\n    } = sentence[0];\n    var total = [];\n    for (let i = 0; i < morp_eval.length; i++) {\n      var {\n        result\n      } = morp_eval[i];\n      total.push(result);\n    }\n    const resultArray = total.flatMap(item => item.split('+'));\n    const wordsArray = resultArray.filter(item => item.includes(\"/NNG\")).map(item => item.split(\"/\")[0]);\n    const rstt = wordsArray[Math.floor(Math.random() * wordsArray.length)];\n    setPart(rstt);\n  };\n  useEffect(() => {\n    if (part != '') {\n      handleCrawl();\n    }\n  }, [part]);\n  const handleCrawl = async () => {\n    const response = await axios.post(`http://43.202.79.6:3001/croll`, {\n      imgWords: part\n    });\n    const {\n      data\n    } = response.data;\n    const {\n      hits\n    } = data;\n    const {\n      largeImageURL\n    } = hits[0];\n    console.log(largeImageURL);\n    setimgurl(largeImageURL);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultItem\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          position: \"absolute\",\n          fontFamily: \"PuradakGentleGothicR\",\n          fontSize: \"30px\"\n        },\n        children: [nick, \"\\uC758 \\uC774\\uBBF8\\uC9C0\\uB294?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"20vw\",\n          height: \"20vw\",\n          paddingTop: \"30%\",\n          position: \"absolute\"\n        },\n        src: imgurl,\n        alt: \"\\uC6F9 \\uC774\\uBBF8\\uC9C0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: \"80vw\",\n          textAlign: \"center\",\n          paddingTop: \"60%\",\n          position: \"absolute\"\n        },\n        children: key\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          paddingTop: \"70%\",\n          position: \"absolute\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginRight: \"10px\"\n          },\n          className: \"btn\",\n          onClick: () => {\n            window.location.href = `/roll/${idx}`;\n          },\n          children: \"\\uB3CC\\uC544\\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: handlePart,\n          children: \"\\uC0AC\\uC9C4\\uC73C\\uB85C \\uD655\\uC778\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s(Result, \"xTNbr7km2a3OpcH38t2Ph677fH4=\", false, function () {\n  return [useLocation, useParams];\n});\n_c = Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["axios","all","useParams","useLocation","React","useEffect","useState","jsxDEV","_jsxDEV","Result","_s","location","key","state","rst","nick","imgURL","imgurl","setimgurl","idx","part","setPart","handlePart","response","post","result","return_object","JSON","parse","data","sentence","morp_eval","total","i","length","push","resultArray","flatMap","item","split","wordsArray","filter","includes","map","rstt","Math","floor","random","handleCrawl","imgWords","hits","largeImageURL","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","position","fontFamily","fontSize","width","height","paddingTop","src","alt","marginRight","onClick","window","href","_c","$RefreshReg$"],"sources":["C:/Users/mj183/OneDrive/바탕 화면/MadCampWeek3/MadCamp_week3_front/src/components/Result.js"],"sourcesContent":["import axios, { all } from 'axios';\r\nimport './Memo.css';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\n\r\n\r\n\r\n//https://pixabay.com/ko/images/search/검색어/\r\n//위에로 연결 쉬울 듯...\r\nexport default function Result() {\r\n    const location = useLocation();\r\n    const key = location.state.rst\r\n    const nick = location.state.nick\r\n    const imgURL = \"https://i.pinimg.com/736x/35/a4/64/35a4644b880f02610a53d9baf71944cb.jpg\"\r\n    const [imgurl, setimgurl] = useState(imgURL)\r\n\r\n\r\n    \r\n    const {idx} = useParams();\r\n    \r\n    \r\n    \r\n\r\n    const [part, setPart] = useState('');\r\n\r\n    const handlePart = async () => {\r\n        const response = await axios.post(`http://43.202.79.6:3001/part`,{\r\n            result: key\r\n        });\r\n        const {return_object} = JSON.parse(response.data)\r\n        \r\n    \r\n        const {sentence} = return_object\r\n        \r\n        const {morp_eval} = sentence[0]\r\n        var total = []\r\n        for (let i=0; i<morp_eval.length; i++) {\r\n            var { result } = morp_eval[i]; \r\n            total.push(result)\r\n        }\r\n        const resultArray = total.flatMap(item => item.split('+'));\r\n    \r\n        const wordsArray = resultArray.filter(item => item.includes(\"/NNG\")).map(item => item.split(\"/\")[0]);\r\n        const rstt = wordsArray[Math.floor(Math.random() * wordsArray.length)]\r\n        \r\n        setPart(rstt) \r\n      };\r\n\r\n    useEffect(()=>{\r\n        if (part != ''){\r\n            \r\n          handleCrawl()\r\n        }\r\n        \r\n      }, [part])\r\n\r\n    const handleCrawl = async () => {\r\n        const response = await axios.post(`http://43.202.79.6:3001/croll`,{\r\n            imgWords: part\r\n        });\r\n        const {data} = response.data\r\n        const {hits} = data\r\n        const {largeImageURL} = hits[0]\r\n        console.log(largeImageURL) \r\n        setimgurl(largeImageURL)\r\n          \r\n      };\r\n    \r\n    \r\n    \r\n    \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"home1\" />\r\n            <div className='resultItem'>\r\n                <div style={{textAlign: \"center\", position: \"absolute\",fontFamily: \"PuradakGentleGothicR\", fontSize: \"30px\"}}>{nick}의 이미지는?</div>\r\n                <img style={{width: \"20vw\", height: \"20vw\" , paddingTop:\"30%\", position: \"absolute\"}} src={imgurl} alt=\"웹 이미지\"></img>\r\n                <p style={{width: \"80vw\", textAlign: \"center\",paddingTop:\"60%\", position: \"absolute\"}}>{key}</p>\r\n                <p style={{textAlign: \"center\" ,paddingTop:\"70%\", position: \"absolute\"}}>\r\n                    <button style={{marginRight: \"10px\"}} className='btn' onClick={()=>{\r\n                        window.location.href=`/roll/${idx}`\r\n                    }}>돌아가기</button>\r\n\r\n                    <button className='btn' onClick={handlePart}>사진으로 확인하기</button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,GAAG,QAAQ,OAAO;AAClC,OAAO,YAAY;AACnB,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAKlD;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,eAAe,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,GAAG,GAAGD,QAAQ,CAACE,KAAK,CAACC,GAAG;EAC9B,MAAMC,IAAI,GAAGJ,QAAQ,CAACE,KAAK,CAACE,IAAI;EAChC,MAAMC,MAAM,GAAG,yEAAyE;EACxF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAACU,MAAM,CAAC;EAI5C,MAAM;IAACG;EAAG,CAAC,GAAGjB,SAAS,CAAC,CAAC;EAKzB,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMgB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,IAAI,CAAE,8BAA6B,EAAC;MAC7DC,MAAM,EAAEb;IACZ,CAAC,CAAC;IACF,MAAM;MAACc;IAAa,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAACM,IAAI,CAAC;IAGjD,MAAM;MAACC;IAAQ,CAAC,GAAGJ,aAAa;IAEhC,MAAM;MAACK;IAAS,CAAC,GAAGD,QAAQ,CAAC,CAAC,CAAC;IAC/B,IAAIE,KAAK,GAAG,EAAE;IACd,KAAK,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACF,SAAS,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACnC,IAAI;QAAER;MAAO,CAAC,GAAGM,SAAS,CAACE,CAAC,CAAC;MAC7BD,KAAK,CAACG,IAAI,CAACV,MAAM,CAAC;IACtB;IACA,MAAMW,WAAW,GAAGJ,KAAK,CAACK,OAAO,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;IAE1D,MAAMC,UAAU,GAAGJ,WAAW,CAACK,MAAM,CAACH,IAAI,IAAIA,IAAI,CAACI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAACC,GAAG,CAACL,IAAI,IAAIA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpG,MAAMK,IAAI,GAAGJ,UAAU,CAACK,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGP,UAAU,CAACN,MAAM,CAAC,CAAC;IAEtEb,OAAO,CAACuB,IAAI,CAAC;EACf,CAAC;EAEHvC,SAAS,CAAC,MAAI;IACV,IAAIe,IAAI,IAAI,EAAE,EAAC;MAEb4B,WAAW,CAAC,CAAC;IACf;EAEF,CAAC,EAAE,CAAC5B,IAAI,CAAC,CAAC;EAEZ,MAAM4B,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMzB,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,IAAI,CAAE,+BAA8B,EAAC;MAC9DyB,QAAQ,EAAE7B;IACd,CAAC,CAAC;IACF,MAAM;MAACS;IAAI,CAAC,GAAGN,QAAQ,CAACM,IAAI;IAC5B,MAAM;MAACqB;IAAI,CAAC,GAAGrB,IAAI;IACnB,MAAM;MAACsB;IAAa,CAAC,GAAGD,IAAI,CAAC,CAAC,CAAC;IAC/BE,OAAO,CAACC,GAAG,CAACF,aAAa,CAAC;IAC1BjC,SAAS,CAACiC,aAAa,CAAC;EAE1B,CAAC;EAMH,oBACI3C,OAAA;IAAA8C,QAAA,gBACI9C,OAAA;MAAK+C,SAAS,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzBnD,OAAA;MAAK+C,SAAS,EAAC,YAAY;MAAAD,QAAA,gBACvB9C,OAAA;QAAKoD,KAAK,EAAE;UAACC,SAAS,EAAE,QAAQ;UAAEC,QAAQ,EAAE,UAAU;UAACC,UAAU,EAAE,sBAAsB;UAAEC,QAAQ,EAAE;QAAM,CAAE;QAAAV,QAAA,GAAEvC,IAAI,EAAC,kCAAO;MAAA;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjInD,OAAA;QAAKoD,KAAK,EAAE;UAACK,KAAK,EAAE,MAAM;UAAEC,MAAM,EAAE,MAAM;UAAGC,UAAU,EAAC,KAAK;UAAEL,QAAQ,EAAE;QAAU,CAAE;QAACM,GAAG,EAAEnD,MAAO;QAACoD,GAAG,EAAC;MAAO;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrHnD,OAAA;QAAGoD,KAAK,EAAE;UAACK,KAAK,EAAE,MAAM;UAAEJ,SAAS,EAAE,QAAQ;UAACM,UAAU,EAAC,KAAK;UAAEL,QAAQ,EAAE;QAAU,CAAE;QAAAR,QAAA,EAAE1C;MAAG;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChGnD,OAAA;QAAGoD,KAAK,EAAE;UAACC,SAAS,EAAE,QAAQ;UAAEM,UAAU,EAAC,KAAK;UAAEL,QAAQ,EAAE;QAAU,CAAE;QAAAR,QAAA,gBACpE9C,OAAA;UAAQoD,KAAK,EAAE;YAACU,WAAW,EAAE;UAAM,CAAE;UAACf,SAAS,EAAC,KAAK;UAACgB,OAAO,EAAEA,CAAA,KAAI;YAC/DC,MAAM,CAAC7D,QAAQ,CAAC8D,IAAI,GAAE,SAAQtD,GAAI,EAAC;UACvC,CAAE;UAAAmC,QAAA,EAAC;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAEhBnD,OAAA;UAAQ+C,SAAS,EAAC,KAAK;UAACgB,OAAO,EAAEjD,UAAW;UAAAgC,QAAA,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACjD,EAAA,CAhFuBD,MAAM;EAAA,QACTN,WAAW,EAQdD,SAAS;AAAA;AAAAwE,EAAA,GATHjE,MAAM;AAAA,IAAAiE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}